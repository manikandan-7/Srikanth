{"ast":null,"code":"import _defineProperty from\"/home/sri/sample/todo1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/sri/sample/todo1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sri/sample/todo1/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/sri/sample/todo1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/sri/sample/todo1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/sri/sample/todo1/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'../signup.css';// import Hello from '../Hello'\nvar SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);function SignUp(){var _this;_classCallCheck(this,SignUp);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignUp).call(this));_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.loginSubmit=function(event){var jwt=require('jsonwebtoken');var temp=JSON.parse(localStorage.getItem('credentials'));var f=null;temp.forEach(function(element){try{var decoded=jwt.verify(String(element[1]),String(_this.state.loginPassword));}catch(err){decoded={user:'none'};}if(_this.state.loginUserName===decoded.user&&element[0]===decoded.user){f=element;localStorage.setItem('current',JSON.stringify(f));}});if(f){window.location.replace('/hello');event.preventDefault();}else{alert('invalid credentials');}};_this.signUpSubmit=function(event){var jwt=require('jsonwebtoken');var f=0;if(localStorage.getItem('credentials')==null){localStorage.setItem('credentials',JSON.stringify([]));}var temp=JSON.parse(localStorage.getItem('credentials'));if(_this.state.signUpPassword===_this.state.signUpConfirm){temp.forEach(function(element){if(element[0]===_this.state.signUpUserName){f=1;}});if(!f){var token=jwt.sign({user:_this.state.signUpUserName},_this.state.signUpPassword);temp.push([_this.state.signUpUserName,token,_this.state.signUpEmail]);localStorage.setItem('credentials',JSON.stringify(temp));alert('SignUp Successfull');}else{alert('username already taken');}}else{alert('Password dosent match');}};_this.state={loginUserName:'',loginPassword:'',signUpUserName:'',signUpEmail:'',signUpPassword:'',signUpConfirm:'',flag:true};return _this;}_createClass(SignUp,[{key:\"LoginPage\",value:function LoginPage(){return React.createElement(\"div\",{className:\"login-form\",id:\"login-form\"},React.createElement(\"h2\",null,\"Login\"),React.createElement(\"form\",{className:\"login-form\",onSubmit:this.loginSubmit},React.createElement(\"div\",null,React.createElement(\"label\",null,\"UserName\"),React.createElement(\"input\",{type:\"text\",placeholder:\"User Name\",id:\"loginUserName\",value:this.state.loginUserName,onChange:this.handleChange,required:true})),React.createElement(\"div\",null,React.createElement(\"label\",null,\"Password\"),React.createElement(\"input\",{type:\"password\",placeholder:\"password\",id:\"loginPassword\",value:this.state.loginPassword,onChange:this.handleChange,required:true})),React.createElement(\"input\",{className:\"submit-button\",type:\"submit\",value:\"Login\"})));}},{key:\"SignUpPage\",value:function SignUpPage(){return React.createElement(\"div\",{className:\"login-form\",id:\"signup-form\"},React.createElement(\"h2\",null,\"Sign Up\"),React.createElement(\"form\",{className:\"login-form\",onSubmit:this.signUpSubmit},React.createElement(\"div\",null,React.createElement(\"label\",null,\"UserName\"),React.createElement(\"input\",{type:\"text\",placeholder:\"User Name\",id:\"signUpUserName\",minLength:\"3\",value:this.state.signUpUserName,onChange:this.handleChange,required:true})),React.createElement(\"div\",null,React.createElement(\"label\",null,\"E-mail\"),React.createElement(\"input\",{type:\"email\",placeholder:\"E-mail\",id:\"signUpEmail\",value:this.state.signUpEmail,onChange:this.handleChange,required:true})),React.createElement(\"div\",null,React.createElement(\"label\",null,\"Password\"),React.createElement(\"input\",{type:\"password\",placeholder:\"password\",id:\"signUpPassword\",minLength:\"3\",value:this.state.signUpPassword,onChange:this.handleChange,required:true})),React.createElement(\"div\",null,React.createElement(\"label\",null,\"confirm Password\"),React.createElement(\"input\",{type:\"password\",placeholder:\"password\",id:\"signUpConfirm\",minLength:\"3\",value:this.state.signUpConfirm,onChange:this.handleChange,required:true})),React.createElement(\"input\",{className:\"submit-button\",type:\"submit\",value:\"SignUp\"})));}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"form-container\"},React.createElement(\"h1\",null,\"React Loginpage\"),React.createElement(\"div\",{className:\"select\"},React.createElement(\"button\",{id:\"switch-login\",onClick:function onClick(){_this2.setState({flag:true});}},\"Log in\"),React.createElement(\"button\",{id:\"switch-signup\",onClick:function onClick(){_this2.setState({flag:false});}},\"Sign UP\")),this.state.flag?this.LoginPage():this.SignUpPage());}}]);return SignUp;}(Component);export default SignUp;","map":{"version":3,"sources":["/home/sri/sample/todo1/src/components/SignUp.jsx"],"names":["React","Component","SignUp","handleChange","e","setState","target","id","value","loginSubmit","event","jwt","require","temp","JSON","parse","localStorage","getItem","f","forEach","element","decoded","verify","String","state","loginPassword","err","user","loginUserName","setItem","stringify","window","location","replace","preventDefault","alert","signUpSubmit","signUpPassword","signUpConfirm","signUpUserName","token","sign","push","signUpEmail","flag","LoginPage","SignUpPage"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport '../signup.css'\n// import Hello from '../Hello'\n\nclass SignUp extends Component {\n    constructor(){\n        super()\n        this.state=({\n            loginUserName:'',\n            loginPassword:'',\n            signUpUserName:'',\n            signUpEmail:'',\n            signUpPassword:'',\n            signUpConfirm:'',\n            flag:true\n        })\n    }\n\n    handleChange=(e)=>{\n        this.setState({\n            [e.target.id]:e.target.value\n        })\n\n    }\n    LoginPage(){\n        return(\n            <div className='login-form'  id='login-form'>\n                <h2>Login</h2>\n                <form className='login-form' onSubmit={this.loginSubmit}>\n                    <div>\n                        <label>UserName</label>\n                        <input type=\"text\" placeholder=\"User Name\" id='loginUserName' value={this.state.loginUserName} onChange={this.handleChange} required/>\n                    </div>\n                    <div>\n                        <label>Password</label>\n                        <input type=\"password\" placeholder=\"password\" id='loginPassword' value={this.state.loginPassword} onChange={this.handleChange} required/>\n                    </div>\n                    <input className='submit-button' type=\"submit\" value=\"Login\"/>\n                </form>\n                \n            </div>\n        )\n    }\n    loginSubmit = event =>{\n        var jwt = require('jsonwebtoken');\n        var temp = JSON.parse(localStorage.getItem('credentials'))\n\n        var f=null\n        temp.forEach(element => {\n            try{\n                var decoded = jwt.verify(String(element[1]), String(this.state.loginPassword))\n            }\n            catch(err){\n                decoded ={user:'none'}\n            }\n            if(this.state.loginUserName===decoded.user && element[0]===decoded.user){\n                f=element\n                localStorage.setItem('current',JSON.stringify(f));\n                \n            } \n        });\n        if(f){\n            window.location.replace('/hello')\n            \n            event.preventDefault()\n        }\n        else{\n            alert('invalid credentials')\n        }\n\n    }\n\n    \n    signUpSubmit = event =>{\n        var jwt = require('jsonwebtoken');\n        var f=0;\n        if(localStorage.getItem('credentials')==null){\n            localStorage.setItem('credentials',JSON.stringify([]))\n        }\n        var temp = JSON.parse(localStorage.getItem('credentials'))\n        if(this.state.signUpPassword === this.state.signUpConfirm){\n            temp.forEach(element => {\n                if (element[0] === this.state.signUpUserName){\n                    f=1;\n                }\n            });\n            if (!f){\n                var token = jwt.sign({ user:this.state.signUpUserName }, this.state.signUpPassword);\n                temp.push([this.state.signUpUserName,token,this.state.signUpEmail])\n                localStorage.setItem('credentials',JSON.stringify(temp))\n                alert('SignUp Successfull')\n            }\n            else{\n                alert('username already taken')\n            }\n        }\n        else{\n            alert('Password dosent match')\n        }\n    }\n\n    SignUpPage(){\n        return (\n            <div className='login-form' id='signup-form'>\n                <h2>Sign Up</h2>\n                <form className='login-form' onSubmit={this.signUpSubmit} >\n                    <div>\n                        <label>UserName</label>\n                        <input type=\"text\" placeholder=\"User Name\" id='signUpUserName' minLength='3' value={this.state.signUpUserName} onChange={this.handleChange} required/>\n                    </div>\n                    <div>\n                        <label>E-mail</label>\n                        <input type=\"email\" placeholder=\"E-mail\" id='signUpEmail' value={this.state.signUpEmail} onChange={this.handleChange} required/>\n                    </div>\n                    <div>\n                        <label>Password</label>\n                        <input type=\"password\" placeholder=\"password\" id='signUpPassword' minLength='3' value={this.state.signUpPassword} onChange={this.handleChange} required/>\n                    </div>\n                    <div>\n                        <label>confirm Password</label>\n                        <input type=\"password\" placeholder=\"password\" id='signUpConfirm' minLength='3' value={this.state.signUpConfirm} onChange={this.handleChange} required/>\n                    </div>\n                    <input className=\"submit-button\" type=\"submit\" value='SignUp'/>\n                </form>\n                \n            </div>\n        )\n    }\n\n\n    render() { \n        return ( \n            <div className='form-container'>\n            <h1>React Loginpage</h1>\n            <div className='select'>\n                <button id='switch-login' onClick={()=>{this.setState({flag:true})}}>Log in</button>\n                <button id='switch-signup' onClick={()=> {this.setState({flag:false})}}>Sign UP</button>\n            </div>\n                {this.state.flag ? this.LoginPage():this.SignUpPage()}\n        </div>\n         );\n    }\n}\n \nexport default SignUp;"]},"metadata":{},"sourceType":"module"}