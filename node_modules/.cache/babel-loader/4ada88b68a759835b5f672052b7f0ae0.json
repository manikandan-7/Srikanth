{"ast":null,"code":"var _jsxFileName = \"/home/sri/sample/weather-react/src/components/Header.jsx\";\nimport React from 'react';\nimport ApiCall from './ApiCall';\nimport Contents from './Contents';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.FixLocation = e => {\n      console.log(e.element);\n      this.props.update('chennai, in');\n    };\n\n    this.StartSearch = () => {\n      console.log(this.state.search);\n      return React.createElement(Contents, {\n        city: this.state.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }); // return(true)\n    };\n\n    this.handleChange = e => {\n      var a = [];\n      this.state.places.forEach(element => {\n        if (element.toLowerCase().includes(e.target.value.toLowerCase())) {\n          a.push(element);\n        }\n      });\n      this.setState({\n        search: e.target.value,\n        place: a\n      });\n    };\n\n    this.state = {\n      search: '',\n      places: [],\n      place: []\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('places')) {\n      var arr = [];\n\n      async function getweather() {\n        let response = await fetch('res/city.list.json');\n        let a = await response.json();\n        return a;\n      }\n\n      getweather().then(data => action(data));\n\n      function action(data) {\n        data.forEach(element => {\n          if (element.country.toLowerCase() === \"in\") arr.push(element.name + ', ' + element.country);\n        });\n        localStorage.setItem('places', JSON.stringify(arr));\n      }\n    }\n\n    this.setState({\n      places: JSON.parse(localStorage.getItem('places')),\n      place: JSON.parse(localStorage.getItem('places'))\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"search\",\n      id: \"search\",\n      autoFocus: true,\n      placeholder: \"enter city\",\n      value: this.state.search,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.StartSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"search\"), React.createElement(\"div\", {\n      className: \"search-res\",\n      id: \"search-res\",\n      style: {\n        display: this.state.search !== '' ? 'block' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.state.place.map(element => React.createElement(\"div\", {\n      onClick: () => {\n        this.FixLocation({\n          element\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, element))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/sri/sample/weather-react/src/components/Header.jsx"],"names":["React","ApiCall","Contents","Header","Component","constructor","props","FixLocation","e","console","log","element","update","StartSearch","state","search","handleChange","a","places","forEach","toLowerCase","includes","target","value","push","setState","place","componentDidMount","localStorage","getItem","arr","getweather","response","fetch","json","then","data","action","country","name","setItem","JSON","stringify","parse","render","display","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ApiCall from './ApiCall'\nimport Contents from './Contents'\n\nclass Header extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={search:'',places:[],place:[]}\n    }\n\n    FixLocation=(e)=>{\n        console.log(e.element)\n        this.props.update('chennai, in')\n    }\n\n    StartSearch=()=>{\n\n        console.log(this.state.search)\n         return <Contents city={this.state.search}/>\n        // return(true)\n    }\n\n    componentDidMount(){\n        if(!localStorage.getItem('places')){\n            var arr = [];\n            async function getweather(){\n                let response = await fetch('res/city.list.json');\n                let a= await response.json();\n                return a;\n    }\n    \n    getweather().then(data => action(data));\n        function action(data){\n            data.forEach(element =>{\n                if (element.country.toLowerCase()===\"in\")\n\n                arr.push(element.name+', '+element.country);\n                \n\n            })\n            localStorage.setItem('places',JSON.stringify(arr));\n\n            }\n            }\n\n            this.setState({\n                places: JSON.parse(localStorage.getItem('places')),\n                place:JSON.parse(localStorage.getItem('places'))\n            })\n\n    }\n\n    handleChange=(e)=>{\n        var a=[]\n        this.state.places.forEach(element => {\n            if (element.toLowerCase().includes(e.target.value.toLowerCase()))\n            {\n                a.push(element)\n            }\n        })\n        this.setState({\n            search:e.target.value,\n            place:a\n        })\n    }\n\n    render() {\n        return (\n            <div className='header'>\n                <input type=\"search\" id='search' autoFocus placeholder=\"enter city\" value={this.state.search} onChange={this.handleChange}/>\n                <button onClick={this.StartSearch}>search</button>\n                <div className=\"search-res\" id =\"search-res\"  style={{display:this.state.search!==''?'block':'none'}}>\n                    {\n                        this.state.place.map(element=><div  onClick={()=>{this.FixLocation({element})}} >{element}</div>)\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}