{"ast":null,"code":"var _jsxFileName = \"/home/sri/sample/weather-react/src/components/Header.jsx\";\nimport React from 'react';\nimport ApiCall from './ApiCall';\nimport Contents from './Contents';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.FixLocation = e => {\n      console.log(e.element);\n      this.setState({\n        search: e.element,\n        clicked: true\n      });\n    };\n\n    this.StartSearch = e => {\n      console.log(this.state.search);\n      this.props.update(this.state.search); // return(true)\n    };\n\n    this.handleChange = e => {\n      var a = [];\n      this.state.places.forEach(element => {\n        if (element.toLowerCase().includes(e.target.value.toLowerCase())) {\n          a.push(element);\n        }\n      });\n      this.setState({\n        search: e.target.value,\n        place: a,\n        clicked: false\n      });\n    };\n\n    this.state = {\n      search: '',\n      clicked: false,\n      places: [],\n      place: []\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('places')) {\n      var arr = [];\n\n      async function getweather() {\n        let response = await fetch('res/city.list.json');\n        let a = await response.json();\n        return a;\n      }\n\n      getweather().then(data => action(data));\n\n      function action(data) {\n        data.forEach(element => {\n          if (element.country.toLowerCase() === \"in\") arr.push(element.name + ', ' + element.country);\n        });\n        localStorage.setItem('places', JSON.stringify(arr));\n      }\n    }\n\n    this.setState({\n      places: JSON.parse(localStorage.getItem('places')),\n      place: JSON.parse(localStorage.getItem('places'))\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"search\",\n      id: \"search\",\n      autoFocus: true,\n      placeholder: \"enter city\",\n      value: this.state.search,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.StartSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"search\"), React.createElement(\"div\", {\n      className: \"search-res\",\n      id: \"search-res\",\n      style: {\n        display: this.state.search !== '' || this.state.clicked ? 'block' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.place.map(element => React.createElement(\"div\", {\n      onClick: () => {\n        this.FixLocation({\n          element\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, element))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/sri/sample/weather-react/src/components/Header.jsx"],"names":["React","ApiCall","Contents","Header","Component","constructor","props","FixLocation","e","console","log","element","setState","search","clicked","StartSearch","state","update","handleChange","a","places","forEach","toLowerCase","includes","target","value","push","place","componentDidMount","localStorage","getItem","arr","getweather","response","fetch","json","then","data","action","country","name","setItem","JSON","stringify","parse","render","display","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ApiCall from './ApiCall'\nimport Contents from './Contents'\n\nclass Header extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={search:'',clicked:false,places:[],place:[]}\n    }\n\n    FixLocation=(e)=>{\n        console.log(e.element)\n        this.setState({\n            search:e.element,\n            clicked:true\n        })\n    }\n\n    StartSearch=(e)=>{\n\n        console.log(this.state.search)\n        this.props.update(this.state.search)\n        // return(true)\n    }\n\n    componentDidMount(){\n        if(!localStorage.getItem('places')){\n            var arr = [];\n            async function getweather(){\n                let response = await fetch('res/city.list.json');\n                let a= await response.json();\n                return a;\n    }\n    \n    getweather().then(data => action(data));\n        function action(data){\n            data.forEach(element =>{\n                if (element.country.toLowerCase()===\"in\")\n\n                arr.push(element.name+', '+element.country);\n                \n\n            })\n            localStorage.setItem('places',JSON.stringify(arr));\n\n            }\n            }\n\n            this.setState({\n                places: JSON.parse(localStorage.getItem('places')),\n                place:JSON.parse(localStorage.getItem('places'))\n            })\n\n    }\n\n    handleChange=(e)=>{\n        var a=[]\n        this.state.places.forEach(element => {\n            if (element.toLowerCase().includes(e.target.value.toLowerCase()))\n            {\n                a.push(element)\n            }\n        })\n        this.setState({\n            search:e.target.value,\n            place:a,\n            clicked:false\n        })\n    }\n\n    render() {\n        return (\n            <div className='header'>\n                <input type=\"search\" id='search' autoFocus placeholder=\"enter city\" value={this.state.search} onChange={this.handleChange}/>\n                <button onClick={this.StartSearch}>search</button>\n                <div className=\"search-res\" id =\"search-res\"  style={{display:(this.state.search!=='' || this.state.clicked)?'block':'none'}}>\n                    {\n                        this.state.place.map(element=><div  onClick={()=>{this.FixLocation({element})}} >{element}</div>)\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}